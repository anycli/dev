#!/usr/bin/env node

/* eslint-disable no-console */

const fs = require('fs')
const path = require('path')
const dev = fs.existsSync(path.join(__dirname, '../tsconfig.json'))

// eslint-disable-next-line node/no-unpublished-require
if (dev) require('ts-node/register')

require(`../${dev ? 'src' : 'lib'}`).run()
  .catch(err => {
    if (typeof err.code === 'number') process.exitCode = err.code
    else {
      console.error(err)
      process.exitCode = 2
    }
  })
